{% extends "base-sp.html" %}
{% load static %}
{% block title %}DiabetoPlus | Profile{% endblock title %}

{% block content %}
<div class="container my-4">
    <div class="row">
        <div class="col-md-2 text-center my-3">
            <img src="" alt="Profile Image" class="profile-image mb-3">
            <h3 id="username" style="font-weight: bold;">{{ request.user.username }}</h3>
            <p id="email">{{ request.user.email }}</p>
            <a href="{% url " change_password" %}"><button class="btn btn-primary">Change Password</button></a>
        </div>
        <div class="col-md-10">
            <ul class="nav nav-tabs" id="profileTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#profile" role="tab">Profile</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#diet" role="tab">Diet Plan</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#exercise" role="tab">Exercise Plan</a>
                </li>
                <li class="nav-item"></li>
                <a class="nav-link" data-bs-toggle="tab" href="#uprofile" role="tab">Update Profile</a>
                </li>
            </ul>
            <div class="tab-content mt-2">
                <div class="tab-pane fade show active" id="profile" role="tabpanel">
                    <h4>Profile</h4>
                    <p>Manage your account settings here.</p>
                </div>
                <div class="tab-pane fade" id="diet" role="tabpanel">
                    <h4>Diet Plan</h4>
                    <p>View your recent activities.</p>
                </div>
                <div class="tab-pane fade" id="exercise" role="tabpanel">
                    <h4>Exercise Plan</h4>
                    <p>View and manage your feedback here.</p>
                </div>
                <div class="tab-pane fade" id="uprofile" role="tabpanel">
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="username">Username:</label>
                            {{ user_form.username }}
                        </div>

                        <div class="form-group">
                            <label for="email">Email:</label>
                            {{ user_form.email }}
                        </div>

                        <div class="form-group">
                            <label for="profile_image">Profile Picture:</label>
                            {{ profile_form.profile_image }}
                        </div>

                        <div class="form-group">
                            <label for="old_password">Old Password:</label>
                            {{ password_form.old_password }}
                        </div>

                        <div class="form-group">
                            <label for="new_password1">New Password:</label>
                            {{ password_form.new_password1 }}
                        </div>

                        <div class="form-group">
                            <label for="new_password2">Confirm New Password:</label>
                            {{ password_form.new_password2 }}
                        </div>

                        <button type="submit" class="btn btn-primary">Update Profile</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}